<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Acute-Angle-Chain: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="aac-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Acute-Angle-Chain
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/AndrewScheidecker/WAVM"></a></p>
<p>Primary repo: <a href="https://github.com/AndrewScheidecker/WAVM">https://github.com/AndrewScheidecker/WAVM</a></p>
<h1>Overview</h1>
<p>This is a standalone VM for WebAssembly. It can load both the standard binary format, and the text format defined by the <a href="https://github.com/WebAssembly/spec/tree/master/ml-proto">WebAssembly reference interpreter</a>. For the text format, it can load both the standard stack machine syntax and the old-fashioned AST syntax used by the reference interpreter, and all of the testing commands.</p>
<h1>Building and running it</h1>
<p>To build it, you'll need CMake and <a href="http://llvm.org/releases/download.html#4.0.0">LLVM 4.0</a>. If CMake can't find your LLVM directory, you can manually give it the location in the LLVM_DIR CMake configuration variable. Note that on Windows, you must compile LLVM from source, and manually point the LLVM_DIR configuration variable at <code>&lt;LLVM build directory&gt;\lib\cmake\llvm</code>.</p>
<h3>Building WAVM on Windows</h3>
<p><b>1.) Install the <a href="http://landinghub.visualstudio.com/visual-cpp-build-tools">Visual Studio C++ Build Tools for Visual Studio 2015 or 2017</a></b></p>
<p>Take note of which version you have installed:</p>
<ul>
<li>If using Visual Studio 2015, use <code>-G"Visual Studio 14 Win64"</code> for the <code>&lt;VS Generator Directive&gt;</code> placeholder below</li>
<li>If using Visual Studio 2017, use <code>-G"Visual Studio 15 Win64"</code> for the <code>&lt;VS Generator Directive&gt;</code> placeholder below</li>
</ul>
<p><b>2.) Build LLVM x64 on Windows with Visual Studio</b></p>
<p>Create an llvm_build directory, navigate to that directory and run: </p><pre class="fragment">cmake -Thost=x64 &lt;VS Generator Directive&gt; -DCMAKE_INSTALL_PREFIX=&lt;desired install path for LLVM&gt; &lt;path to LLVM source&gt;
</pre><p>Open the generated LLVM.sln locateed within the 'llvm_build' directory in Visual Studio and build the "INSTALL" Project</p>
<p>The output binaries should be located in <code>&lt;desired install path for LLVM&gt;</code></p>
<p><b>3.) Build WAVM x64 on Windows with Visual Studio against LLVM x64</b></p>
<p>Create a wavm_build directory, navigate to that directory and run: </p><pre class="fragment">cmake -Thost=x64 &lt;VS Generator Directive&gt; -DLLVM_DIR=&lt;LLVM build directory&gt;\lib\cmake\llvm &lt;path to WAVM source&gt;
</pre><p>Open the generated WAVM.sln located within the 'wavm_build' directory in Visual Studio and build the "ALL_BUILD" Project</p>
<p>The output binaries should be located in <code>wavm_build\bin</code></p>
<h1>Usage</h1>
<p>I've tested it on Windows with Visual C++ 2015/2017, Linux with GCC and clang, and MacOS with Xcode/clang. Travis CI is testing Linux/GCC, Linux/clang, and OSX/clang.</p>
<p>The primary executable is <code>wavm</code>: </p><div class="fragment"><div class="line">Usage: wavm [switches] [programfile] [--] [arguments]</div><div class="line">  in.wast|in.wasm       Specify program file (.wast/.wasm)</div><div class="line">  -f|--function name        Specify function name to run in module rather than main</div><div class="line">  -c|--check            Exit after checking that the program is valid</div><div class="line">  -d|--debug            Write additional debug information to stdout</div><div class="line">  --                Stop parsing arguments</div></div><!-- fragment --><p><code>wavm</code> will load a WebAssembly file and call <code>main</code> (or a specified function). Example programs to try without changing any code include those found in the Test/wast and Test/spec directory such as the following:</p>
<div class="fragment"><div class="line">wavm Test/wast/helloworld.wast</div><div class="line">wavm Test/Benchmark/Benchmark.wast</div><div class="line">wavm Test/zlib/zlib.wast</div></div><!-- fragment --><p>WebAssembly programs that export a main function with the standard parameters will be passed in the command line arguments. If the same main function returns a i32 type it will become the exit code. WAVM supports Emscripten's defined I/O functions so programs can read from stdin and write to stdout and stderr. See <a href="Test/wast/echo.wast">echo.wast</a> for an example of a program that echos the command line arguments back out through stdout.</p>
<p>There are a few additional executables that can be used to assemble the WAST file into a binary:</p>
<div class="fragment"><div class="line">Assemble in.wast out.wasm</div></div><!-- fragment --><p>Disassemble a binary into a WAST file:</p>
<div class="fragment"><div class="line">Disassemble in.wasm out.wast</div></div><!-- fragment --><p>and to execute a test script defined by a WAST file (see the <a href="Test/spec">Test/spec directory</a> for examples of the syntax):</p>
<div class="fragment"><div class="line">Test in.wast</div></div><!-- fragment --><h1>Architecture</h1>
<h2>IR</h2>
<p>The <a href="Include/IR">IR</a> (Intermediate Representation) is the glue that the WAST parser, the WASM serialization, and the Runtime communicate through. It closely mirrors the semantics of the WebAssembly binary format, but is easier to work with in memory.</p>
<h2>Parsing</h2>
<p>Parsing the WebAssembly text format uses a table-driven deterministic finite automaton to scan the input string for tokens. The tables are generated from a set of tokens that match literal strings, and a set of tokens that match regular expressions. The parser is a standard recursive descent parser.</p>
<h2>Runtime</h2>
<p>The <a href="Source/Runtime/">Runtime</a> is the primary consumer of the byte code. It provides an <a href="Include/Runtime/Runtime.h">API</a> for instantiating WebAssembly modules and calling functions exported from them. To instantiate a module, it <a href="Source/Runtime/ModuleInstance.cpp">initializes the module's runtime environment</a> (globals, memory objects, and table objects), <a href="Source/Runtime/LLVMEmitIR.cpp">translates the byte code into LLVM IR</a>, and <a href="Source/Runtime/LLVMJIT.cpp">uses LLVM to generate machine code</a> for the module's functions.</p>
<h1>License</h1>
<p>WAVM is provided under the terms of [LICENSE](LICENSE). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
