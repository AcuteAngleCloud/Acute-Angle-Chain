This contract enables users to stake tokens, and then configure and vote on producers and worker proposals.

Users can also proxy their voting influence to other users.

The state of this contract is read to determine the 31 active block producers.

Actions\+: The naming convention is codeaccount\+::actionname followed by a list of paramters.

Indicates that a particular account wishes to become a producer \subsection*{aacio.\+system\+::cfgproducer account config}


\begin{DoxyItemize}
\item {\bfseries account} the producer account to update
\item updates the configuration settings for a particular producer, these
\end{DoxyItemize}

\mbox{\hyperlink{struct_storage}{Storage}} changes are billed to \textquotesingle{}account\textquotesingle{}

\subsection*{aacio.\+system\+::okproducer account producer vote}


\begin{DoxyItemize}
\item {\bfseries account} the account which is doing the voting
\item {\bfseries producer} the producer which is being voted for (or unvoted for)
\item {\bfseries vote} true if the producer should be voted for, false if not
\end{DoxyItemize}

Each account has a maximum number of votes it can maintain. \mbox{\hyperlink{struct_storage}{Storage}} changes will be billed to \textquotesingle{}account\textquotesingle{}

\subsection*{aacio.\+system\+::setproxy account proxy}


\begin{DoxyItemize}
\item {\bfseries account} the account which is updating it\textquotesingle{}s proxy
\item {\bfseries proxy} the account which will have the power to vote account\textquotesingle{}s stake
\end{DoxyItemize}

All current votes are removed and a new proxy link is created. The votes for every producer the proxy has voted for are updated immediately.

\mbox{\hyperlink{struct_storage}{Storage}} changes will be billed to \textquotesingle{}account\textquotesingle{}

\subsection*{aacio.\+system\+::unstake account quantity}


\begin{DoxyItemize}
\item {\bfseries account} -\/ the account which is requsting their balance be unstaked
\item {\bfseries quantity} -\/ the quantity which will be unstaked, unstaked tokens lose voting influence immediately
\item in order to unstake tokens, an account must request them. The user will receive them over time via weekly withdraws. The length of time will be configured by the median time as set by the active producers.
\item If this is called while in the process of unstaking, the currently pending unstake is canceled as if quantity were 0, then it is applied as if a new unstake request was made.
\item all producers this \textquotesingle{}from\textquotesingle{} has voted for will have their votes updated immediately.
\item bandwidth and storage for the deferred transaction will be billed to \textquotesingle{}from\textquotesingle{}
\end{DoxyItemize}

\subsection*{aacio.\+system\+::withdraw account}


\begin{DoxyItemize}
\item this action can only be triggered by aacio.\+system via a deferred transaction generated by unstake
\item this will generate an inline aacio.\+token\+::transfer call from=aacio.\+system to=account and amount equal to the next withdraw increment
\item this will generate another deferred withdraw to continue the process if there are still withdraws to be made
\end{DoxyItemize}

\subsection*{aacio.\+system\+::transfer from to amount memo}


\begin{DoxyItemize}
\item decrements balance of from if amount $<$= balance
\item increments balance of to by amount
\item memo is ignored
\end{DoxyItemize}

\subsection*{aacio.\+system\+::stakevote account amount}


\begin{DoxyItemize}
\item the primary currency of aacio is controlled by the token contract which enables users to transfer balances from one user to another. The receiver is notified on incoming balances and the vote contract will stake the tokens on receipt.
\item all producers this \textquotesingle{}from\textquotesingle{} has voted for will have their votes updated immediately.
\end{DoxyItemize}

\subsection*{aacio.\+system\+::onblock account blocktime blocknum}


\begin{DoxyItemize}
\item this special action is triggered when a block is applied by the given producer and cannot be generated from any other source. It is used to pay producers and calculate missed blocks of other producers.
\item producer pay is deposited into the prodcer\textquotesingle{}s stake balance and can be withdrawn over time.
\item if blocknum is the start of a new round this may update the active producer config from the producer votes.
\end{DoxyItemize}

\subsection*{aacio.\+system\+::freeze producer accounts true$\vert$false}


\begin{DoxyItemize}
\item requires permission of the  account
\item if an account is frozen, all authorizations of that account are rejected and the code for that account will not be run
\end{DoxyItemize}

\subsection*{aacio.\+system\+::paystandby producer}


\begin{DoxyItemize}
\item every block some amount of tokens is paid
\item at most once per day a producer may claim a percentage of the standby pay equal to their totalvotes / allvotes 
\end{DoxyItemize}