\hypertarget{net__api__plugin_8cpp}{}\section{plugins/net\+\_\+api\+\_\+plugin/net\+\_\+api\+\_\+plugin.cpp File Reference}
\label{net__api__plugin_8cpp}\index{plugins/net\+\_\+api\+\_\+plugin/net\+\_\+api\+\_\+plugin.\+cpp@{plugins/net\+\_\+api\+\_\+plugin/net\+\_\+api\+\_\+plugin.\+cpp}}
{\ttfamily \#include $<$aacio/net\+\_\+api\+\_\+plugin/net\+\_\+api\+\_\+plugin.\+hpp$>$}\newline
{\ttfamily \#include $<$aacio/chain/exceptions.\+hpp$>$}\newline
{\ttfamily \#include $<$aacio/chain/transaction.\+hpp$>$}\newline
{\ttfamily \#include $<$fc/variant.\+hpp$>$}\newline
{\ttfamily \#include $<$fc/io/json.\+hpp$>$}\newline
{\ttfamily \#include $<$chrono$>$}\newline
Include dependency graph for net\+\_\+api\+\_\+plugin.\+cpp\+:
% FIG 0
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaacio_1_1detail_1_1net__api__plugin__empty}{aacio\+::detail\+::net\+\_\+api\+\_\+plugin\+\_\+empty}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries C\+A\+LL}(api\+\_\+name,  api\+\_\+handle,  call\+\_\+name,  I\+N\+V\+O\+KE,  http\+\_\+response\+\_\+code)
\item 
\mbox{\Hypertarget{net__api__plugin_8cpp_afab796843c5c67526de271f4207fcd37}\label{net__api__plugin_8cpp_afab796843c5c67526de271f4207fcd37}} 
\#define {\bfseries I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+R}(api\+\_\+handle,  call\+\_\+name,  in\+\_\+param)~auto result = api\+\_\+handle.\+call\+\_\+name(fc\+::json\+::from\+\_\+string(body).as$<$in\+\_\+param$>$());
\item 
\#define {\bfseries I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+\+R\+\_\+\+R\+\_\+R}(api\+\_\+handle,  call\+\_\+name,  in\+\_\+param0,  in\+\_\+param1,  in\+\_\+param2)
\item 
\mbox{\Hypertarget{net__api__plugin_8cpp_a57be4224a1ade2bd8b3923d6a344d98b}\label{net__api__plugin_8cpp_a57be4224a1ade2bd8b3923d6a344d98b}} 
\#define {\bfseries I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+V}(api\+\_\+handle,  call\+\_\+name)~auto result = api\+\_\+handle.\+call\+\_\+name();
\item 
\#define {\bfseries I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+R}(api\+\_\+handle,  call\+\_\+name,  in\+\_\+param)
\item 
\#define {\bfseries I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+\+R\+\_\+R}(api\+\_\+handle,  call\+\_\+name,  in\+\_\+param0,  in\+\_\+param1)
\item 
\#define {\bfseries I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+V}(api\+\_\+handle,  call\+\_\+name)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{net__api__plugin_8cpp_a2aa76e728029209f858d97755dee4075}\label{net__api__plugin_8cpp_a2aa76e728029209f858d97755dee4075}} 
{\bfseries F\+C\+\_\+\+R\+E\+F\+L\+E\+CT} (\mbox{\hyperlink{structaacio_1_1detail_1_1net__api__plugin__empty}{aacio\+::detail\+::net\+\_\+api\+\_\+plugin\+\_\+empty}},)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyCopyright}{Copyright}
defined in Acute\+Angle\+Chain/\+L\+I\+C\+E\+N\+S\+E.\+txt 
\end{DoxyCopyright}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{net__api__plugin_8cpp_a7f59ca44c6b0f45ca526a8c86a477d4a}\label{net__api__plugin_8cpp_a7f59ca44c6b0f45ca526a8c86a477d4a}} 
\index{net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}!C\+A\+LL@{C\+A\+LL}}
\index{C\+A\+LL@{C\+A\+LL}!net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}}
\subsubsection{\texorpdfstring{C\+A\+LL}{CALL}}
{\footnotesize\ttfamily \#define C\+A\+LL(\begin{DoxyParamCaption}\item[{}]{api\+\_\+name,  }\item[{}]{api\+\_\+handle,  }\item[{}]{call\+\_\+name,  }\item[{}]{I\+N\+V\+O\+KE,  }\item[{}]{http\+\_\+response\+\_\+code }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\{std::string(\textcolor{stringliteral}{"/v1/"} #api\_name \textcolor{stringliteral}{"/"} #call\_name), \(\backslash\)
   [&api\_handle](string, \textcolor{keywordtype}{string} body, \mbox{\hyperlink{http__plugin_8hpp_ab73acbc9859e5861e07d38d682fea6ff}{url\_response\_callback}} cb) \textcolor{keyword}{mutable} \{ \(\backslash\)
          try \{ \(\backslash\)
             if (body.empty()) body = \textcolor{stringliteral}{"\{\}"}; \(\backslash\)
             INVOKE \(\backslash\)
             cb(http\_response\_code, fc::json::to\_string(result)); \(\backslash\)
          \} \textcolor{keywordflow}{catch} (fc::eof\_exception& e) \{ \(\backslash\)
             error\_results results\{400, \textcolor{stringliteral}{"Bad Request"}, e\}; \(\backslash\)
             cb(400, fc::json::to\_string(results)); \(\backslash\)
             elog(\textcolor{stringliteral}{"Unable to parse arguments: $\{args\}"}, (\textcolor{stringliteral}{"args"}, body)); \(\backslash\)
          \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classfc_1_1exception}{fc::exception}}& e) \{ \(\backslash\)
             error\_results results\{500, \textcolor{stringliteral}{"Internal Service Error"}, e\}; \(\backslash\)
             cb(500, fc::json::to\_string(results)); \(\backslash\)
             elog(\textcolor{stringliteral}{"Exception encountered while processing $\{call\}: $\{e\}"}, (\textcolor{stringliteral}{"call"}, #api\_name \textcolor{stringliteral}{"."} #call\_name
      )(\textcolor{stringliteral}{"e"}, e)); \(\backslash\)
          \} \(\backslash\)
       \}\}
\end{DoxyCode}
\mbox{\Hypertarget{net__api__plugin_8cpp_a13ce85c1c960b23c926f782666868b0a}\label{net__api__plugin_8cpp_a13ce85c1c960b23c926f782666868b0a}} 
\index{net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}!I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+\+R\+\_\+\+R\+\_\+R@{I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+\+R\+\_\+\+R\+\_\+R}}
\index{I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+\+R\+\_\+\+R\+\_\+R@{I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+\+R\+\_\+\+R\+\_\+R}!net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}}
\subsubsection{\texorpdfstring{I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+\+R\+\_\+\+R\+\_\+R}{INVOKE\_R\_R\_R\_R}}
{\footnotesize\ttfamily \#define I\+N\+V\+O\+K\+E\+\_\+\+R\+\_\+\+R\+\_\+\+R\+\_\+R(\begin{DoxyParamCaption}\item[{}]{api\+\_\+handle,  }\item[{}]{call\+\_\+name,  }\item[{}]{in\+\_\+param0,  }\item[{}]{in\+\_\+param1,  }\item[{}]{in\+\_\+param2 }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keyword}{const} \textcolor{keyword}{auto}& vs = fc::json::json::from\_string(body).as<\mbox{\hyperlink{classstd_1_1vector}{fc::variants}}>(); \(\backslash\)
     auto result = api\_handle.call\_name(vs.at(0).as<in\_param0>(), vs.at(1).as<in\_param1>(), vs.at(2).as<
      in\_param2>());
\end{DoxyCode}
\mbox{\Hypertarget{net__api__plugin_8cpp_a4dc31462f24aaa120af888e8e9358800}\label{net__api__plugin_8cpp_a4dc31462f24aaa120af888e8e9358800}} 
\index{net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}!I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+R@{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+R}}
\index{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+R@{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+R}!net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}}
\subsubsection{\texorpdfstring{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+R}{INVOKE\_V\_R}}
{\footnotesize\ttfamily \#define I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+R(\begin{DoxyParamCaption}\item[{}]{api\+\_\+handle,  }\item[{}]{call\+\_\+name,  }\item[{}]{in\+\_\+param }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
api\_handle.call\_name(fc::json::from\_string(body).as<in\_param>()); \(\backslash\)
     aacio::detail::net\_api\_plugin\_empty result;
\end{DoxyCode}
\mbox{\Hypertarget{net__api__plugin_8cpp_a653b6a13b0cc13bed8565f0d19aa8e03}\label{net__api__plugin_8cpp_a653b6a13b0cc13bed8565f0d19aa8e03}} 
\index{net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}!I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+\+R\+\_\+R@{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+\+R\+\_\+R}}
\index{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+\+R\+\_\+R@{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+\+R\+\_\+R}!net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}}
\subsubsection{\texorpdfstring{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+\+R\+\_\+R}{INVOKE\_V\_R\_R}}
{\footnotesize\ttfamily \#define I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+\+R\+\_\+R(\begin{DoxyParamCaption}\item[{}]{api\+\_\+handle,  }\item[{}]{call\+\_\+name,  }\item[{}]{in\+\_\+param0,  }\item[{}]{in\+\_\+param1 }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keyword}{const} \textcolor{keyword}{auto}& vs = fc::json::json::from\_string(body).as<\mbox{\hyperlink{classstd_1_1vector}{fc::variants}}>(); \(\backslash\)
     api\_handle.call\_name(vs.at(0).as<in\_param0>(), vs.at(1).as<in\_param1>()); \(\backslash\)
     aacio::detail::net\_api\_plugin\_empty result;
\end{DoxyCode}
\mbox{\Hypertarget{net__api__plugin_8cpp_a54f8b56aff9e470dbebbddd544256b8f}\label{net__api__plugin_8cpp_a54f8b56aff9e470dbebbddd544256b8f}} 
\index{net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}!I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+V@{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+V}}
\index{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+V@{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+V}!net\+\_\+api\+\_\+plugin.\+cpp@{net\+\_\+api\+\_\+plugin.\+cpp}}
\subsubsection{\texorpdfstring{I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+V}{INVOKE\_V\_V}}
{\footnotesize\ttfamily \#define I\+N\+V\+O\+K\+E\+\_\+\+V\+\_\+V(\begin{DoxyParamCaption}\item[{}]{api\+\_\+handle,  }\item[{}]{call\+\_\+name }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
api\_handle.call\_name(); \(\backslash\)
     aacio::detail::net\_api\_plugin\_empty result;
\end{DoxyCode}
