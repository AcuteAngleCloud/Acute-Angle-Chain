\hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response}{}\section{websocketpp\+:\+:http\+:\+:parser\+:\+:response Class Reference}
\label{classwebsocketpp_1_1http_1_1parser_1_1response}\index{websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}}


Stores, parses, and manipulates H\+T\+TP responses.  




{\ttfamily \#include $<$response.\+hpp$>$}



Inheritance diagram for websocketpp\+:\+:http\+:\+:parser\+:\+:response\+:
% FIG 0


Collaboration diagram for websocketpp\+:\+:http\+:\+:parser\+:\+:response\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_ac8666204343c97725f35fd1aa8573c2b}\label{classwebsocketpp_1_1http_1_1parser_1_1response_ac8666204343c97725f35fd1aa8573c2b}} 
typedef \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response}{response}} {\bfseries type}
\item 
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_a4072a02adfa5e60b4e23246d561d9c25}\label{classwebsocketpp_1_1http_1_1parser_1_1response_a4072a02adfa5e60b4e23246d561d9c25}} 
typedef lib\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response}{type}} $>$ {\bfseries ptr}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_ae99b8f1287898b74d1963b95347ab838}{consume}} (char const $\ast$buf, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Process bytes in the input buffer. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_a5b274a9e5766e679f0939a7e1ecbad56}{consume}} (std\+::istream \&s)
\begin{DoxyCompactList}\small\item\em Process bytes in the input buffer (istream version) \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_ab3f1f2bb2c79a779a8e7d649ea722421}{ready}} () const
\begin{DoxyCompactList}\small\item\em Returns true if the response is ready. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_a844549873f4b6c36d04c141925ee2dd2}\label{classwebsocketpp_1_1http_1_1parser_1_1response_a844549873f4b6c36d04c141925ee2dd2}} 
bool \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_a844549873f4b6c36d04c141925ee2dd2}{headers\+\_\+ready}} () const
\begin{DoxyCompactList}\small\item\em Returns true if the response headers are fully parsed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_a46ebda97244f3235eaaccb1bcbdc5666}\label{classwebsocketpp_1_1http_1_1parser_1_1response_a46ebda97244f3235eaaccb1bcbdc5666}} 
std\+::string \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_a46ebda97244f3235eaaccb1bcbdc5666}{raw}} () const
\begin{DoxyCompactList}\small\item\em Returns the full raw response. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_a2576fc301cc6798d5a830298188b4832}{set\+\_\+status}} (status\+\_\+code\+::value code)
\begin{DoxyCompactList}\small\item\em Set response status code and message. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_ab673f0371af7934e8abb6946a2952f57}{set\+\_\+status}} (status\+\_\+code\+::value code, std\+::string const \&msg)
\begin{DoxyCompactList}\small\item\em Set response status code and message. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_ae604a1d8f8c26d7e71c42c9373deeec5}\label{classwebsocketpp_1_1http_1_1parser_1_1response_ae604a1d8f8c26d7e71c42c9373deeec5}} 
status\+\_\+code\+::value \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_ae604a1d8f8c26d7e71c42c9373deeec5}{get\+\_\+status\+\_\+code}} () const
\begin{DoxyCompactList}\small\item\em Return the response status code. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_a587122c52c13474c3c79835b7c1e8854}\label{classwebsocketpp_1_1http_1_1parser_1_1response_a587122c52c13474c3c79835b7c1e8854}} 
const std\+::string \& \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_a587122c52c13474c3c79835b7c1e8854}{get\+\_\+status\+\_\+msg}} () const
\begin{DoxyCompactList}\small\item\em Return the response status message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Stores, parses, and manipulates H\+T\+TP responses. 

\href{http::response}{\tt http\+::response} provides the following functionality for working with H\+T\+TP responses.


\begin{DoxyItemize}
\item Initialize response via manually setting each element
\item Initialize response via reading raw bytes and parsing
\item Once initialized, access individual parsed elements
\item Once initialized, read entire response as raw bytes
\end{DoxyItemize}

\href{http::response}{\tt http\+::response} checks for header completeness separately from the full response. Once the header is complete, the Content-\/\+Length header is read to determine when to stop reading body bytes. If no Content-\/\+Length is present \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_ab3f1f2bb2c79a779a8e7d649ea722421}{ready()}} will never return true. It is the responsibility of the caller to consume to determine when the response is complete (ie when the connection terminates, or some other metric). 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_ae99b8f1287898b74d1963b95347ab838}\label{classwebsocketpp_1_1http_1_1parser_1_1response_ae99b8f1287898b74d1963b95347ab838}} 
\index{websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}!consume@{consume}}
\index{consume@{consume}!websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}}
\subsubsection{\texorpdfstring{consume()}{consume()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily size\+\_\+t websocketpp\+::http\+::parser\+::response\+::consume (\begin{DoxyParamCaption}\item[{char const $\ast$}]{buf,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Process bytes in the input buffer. 

Process up to len bytes from input buffer buf. Returns the number of bytes processed. Bytes left unprocessed means bytes left over after the final header delimiters.

Consume is a streaming processor. It may be called multiple times on one response and the full headers need not be available before processing can begin. If the end of the response was reached during this call to consume the ready flag will be set. Further calls to consume once ready will be ignored.

Consume will throw an \href{http::exception}{\tt http\+::exception} in the case of an error. Typical error reasons include malformed responses, incomplete responses, and max header size being reached.


\begin{DoxyParams}{Parameters}
{\em buf} & \mbox{\hyperlink{struct_pointer}{Pointer}} to byte buffer \\
\hline
{\em len} & Size of byte buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes processed. 
\end{DoxyReturn}
Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_a5b274a9e5766e679f0939a7e1ecbad56}\label{classwebsocketpp_1_1http_1_1parser_1_1response_a5b274a9e5766e679f0939a7e1ecbad56}} 
\index{websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}!consume@{consume}}
\index{consume@{consume}!websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}}
\subsubsection{\texorpdfstring{consume()}{consume()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily size\+\_\+t websocketpp\+::http\+::parser\+::response\+::consume (\begin{DoxyParamCaption}\item[{std\+::istream \&}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Process bytes in the input buffer (istream version) 

Process bytes from istream s. Returns the number of bytes processed. Bytes left unprocessed means bytes left over after the final header delimiters.

Consume is a streaming processor. It may be called multiple times on one response and the full headers need not be available before processing can begin. If the end of the response was reached during this call to consume the ready flag will be set. Further calls to consume once ready will be ignored.

Consume will throw an \href{http::exception}{\tt http\+::exception} in the case of an error. Typical error reasons include malformed responses, incomplete responses, and max header size being reached.


\begin{DoxyParams}{Parameters}
{\em buf} & \mbox{\hyperlink{struct_pointer}{Pointer}} to byte buffer \\
\hline
{\em len} & Size of byte buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes processed. 
\end{DoxyReturn}
Here is the call graph for this function\+:
% FIG 4
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_ab3f1f2bb2c79a779a8e7d649ea722421}\label{classwebsocketpp_1_1http_1_1parser_1_1response_ab3f1f2bb2c79a779a8e7d649ea722421}} 
\index{websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}!ready@{ready}}
\index{ready@{ready}!websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}}
\subsubsection{\texorpdfstring{ready()}{ready()}}
{\footnotesize\ttfamily bool websocketpp\+::http\+::parser\+::response\+::ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns true if the response is ready. 

\begin{DoxyNote}{Note}
will never return true if the content length header is not present 
\end{DoxyNote}
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_a2576fc301cc6798d5a830298188b4832}\label{classwebsocketpp_1_1http_1_1parser_1_1response_a2576fc301cc6798d5a830298188b4832}} 
\index{websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}!set\+\_\+status@{set\+\_\+status}}
\index{set\+\_\+status@{set\+\_\+status}!websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}}
\subsubsection{\texorpdfstring{set\+\_\+status()}{set\_status()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void websocketpp\+::http\+::parser\+::response\+::set\+\_\+status (\begin{DoxyParamCaption}\item[{status\+\_\+code\+::value}]{code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Set response status code and message. 

Sets the response status code to {\ttfamily code} and looks up the corresponding message for standard codes. Non-\/standard codes will be entered as Unknown use set\+\_\+status(status\+\_\+code\+::value,std\+::string) overload to set both values explicitly.


\begin{DoxyParams}{Parameters}
{\em code} & Code to set \\
\hline
{\em msg} & Message to set \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
% FIG 5
\mbox{\Hypertarget{classwebsocketpp_1_1http_1_1parser_1_1response_ab673f0371af7934e8abb6946a2952f57}\label{classwebsocketpp_1_1http_1_1parser_1_1response_ab673f0371af7934e8abb6946a2952f57}} 
\index{websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}!set\+\_\+status@{set\+\_\+status}}
\index{set\+\_\+status@{set\+\_\+status}!websocketpp\+::http\+::parser\+::response@{websocketpp\+::http\+::parser\+::response}}
\subsubsection{\texorpdfstring{set\+\_\+status()}{set\_status()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void websocketpp\+::http\+::parser\+::response\+::set\+\_\+status (\begin{DoxyParamCaption}\item[{status\+\_\+code\+::value}]{code,  }\item[{std\+::string const \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Set response status code and message. 

Sets the response status code and message to independent custom values. use \mbox{\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response_a2576fc301cc6798d5a830298188b4832}{set\+\_\+status(status\+\_\+code\+::value)}} to set the code and have the standard message be automatically set.


\begin{DoxyParams}{Parameters}
{\em code} & Code to set \\
\hline
{\em msg} & Message to set \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
libraries/fc/vendor/websocketpp/websocketpp/http/response.\+hpp\end{DoxyCompactItemize}
